/// <reference types="bun-types" />
import type { ServerWebSocket } from "bun";
import type { IHandler, IWebSocketData, IWebSocketHandlers } from "./bao";
import { Context } from "./context";
import { Middleware } from "./middleware";
export declare class Router {
    #private;
    /**
     * The middleware used by this router
     */
    middleware: Middleware;
    /**
     * Register a route with the router
     *
     * @param method The HTTP method
     * @param path The path of the route
     * @param handler The path handler function
     */
    register(method: TMethods, path: string, handler: IHandler): void;
    /**
     * Register a WebSocket route with the router
     *
     * @param path The path of the WebSocket
     * @param handlers The WebSocket path handler function
     */
    registerWebSocket(path: string, handlers: IWebSocketHandlers): void;
    /**
     * Handles WebSocket connections
     *
     * @param ws The WebSocket instance itself
     * @returns Methods to handle stages of the WebSocket lifecycle
     */
    handleWebSocket(ws: ServerWebSocket<IWebSocketData>): {
        open: () => Promise<void>;
        close: () => Promise<void>;
        message: (msg: string | Uint8Array) => Promise<void>;
    };
    /**
     * Handles an incoming request
     *
     * @param ctx The Context object created by the request
     * @returns The Response generated by the path handler and middleware
     */
    handle(ctx: Context): Promise<Response>;
}
export declare type TMethods = "ANY" | "GET" | "HEAD" | "POST" | "PUT" | "DELETE" | "CONNECT" | "OPTIONS" | "TRACE" | "PATCH";
